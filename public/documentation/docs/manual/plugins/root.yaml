#    Copyright (C) 2022 owner Roman Piontik R.Piontik@mail.ru
#
#    Licensed under the Apache License, Version 2.0 (the "License");
#    you may not use this file except in compliance with the License.
#    You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#    In any derivative products, you must retain the information of
#    owner of the original code and provide clear attribution to the project
#
#    https://dochub.info
#
#    The use of this product or its derivatives for any purpose cannot be a secret.
#
#    Unless required by applicable law or agreed to in writing, software
#    distributed under the License is distributed on an "AS IS" BASIS,
#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    See the License for the specific language governing permissions and
#    limitations under the License.
#
#  Maintainers:
#    R.Piontik <r.piontik@mail.ru>
#
#  Contributors:
#    R.Piontik <r.piontik@mail.ru> - 2022
#	 R.Piontik <r.piontik@mail.ru> - 2023
#	 Александр Трубников <a.trubnikov@samolet.ru> - 2023
#	 ilya.ermolin <ilya.ermolin@rtlabs.ru> - 2024
#	 R.Piontik <r.piontik@mail.ru> - 2024

# Источник - https://gitlab.smoletgroup.ru/branch/blob/root.yaml
datasets:
  dochub.plugins.example:
    origin: dochub.components
    source: examples/test.jsonata
docs:
  dochub.plugins.intro:
    location: DocHub/Руководство/Плагины
    type: markdown
    source: introduction.md
  dochub.plugins.interface:
    location: DocHub/Руководство/Плагины/Интерфейсы ядра
    type: markdown
    source: interface.md
  dochub.plugins.example:
    location: DocHub/Руководство/Плагины/Примеры/HTML
    type: html
    headers:
      head1:
        type: test
    source: examples/example.html


  dochub.plugins.svg_file:
    title: Пример использования SVG
    type: svg
    template: templates/test.svg
    source: >
      (
        {
          "component1": "Название компонента 1",
          "line1_text1": "Текст для стрелки"
        }
      )

  dochub.plugins.svg_file_error:
    title: Проверка svg
    type: svg
    template: templates/test.svg
    source: >
      (
        {
          "component1": "Название компонента 1",

          /* Намеренно допускаем ошибки             */
          /* Описываем несуществующие параметры     */
          /* и не указываем необходимые line1_text1 */
          "component2": "Название компонента 2" 
        }
      )

  dochub.plugins.svg_inline:
    title: Проверка вставки svg объекта
    type: markdown
    source: svg_inline.md
    location: DocHub/Руководство/Плагины/Примеры/SVG

  dochub.plugins.drawio:
    location: DocHub/Руководство/Плагины/Примеры/Drawio
    type: markdown
    source: drawio_intro.md

  dochub.plugins.drawio.as_is:
    location: DocHub/Руководство/Плагины/Примеры/Drawio/Файл как есть
    type: drawio
    template: templates/example.drawio

  dochub.plugins.drawio.parametrized:
    location: DocHub/Руководство/Плагины/Примеры/Drawio/Применили пост. обработку
    type: drawio
    template: templates/example.drawio
    source: >
      (
        {
        "xml_mutators" : [
            { "id": 1, "xpath": "//*[@id = 'test.sys1.c1']",
                "params": { "style_self" : false},
                "operation": {
                    "attrs": {
                        "c4Description": "Описание контейнера 1",
                        "c4Name": "Имя контейнера 1",
                        "c4Technology" : "Java, Spring"
                    },
                    "style": {
                        "fillColor": "red"
                    }
                }
            },
            { "id": 2, "xpath": "//*[@id = 'test.sys1.c2']",
                "params": { "style_self" : false},
                "operation": {
                    "attrs": {
                        "c4Description": "Описание контейнера 2",
                        "c4Name": "Имя контейнера 2",
                        "c4Technology" : "Java17, Spring"
                    },
                    "style": {
                        "fillColor": "green"
                    }
                }
            },
            { "id": 3, "xpath": "//*[@id = 'test.sys1.c3']",
                "params": { "style_self" : false},
                "operation": {
                    "attrs": {
                        "c4Description": "Описание контейнера 3",
                        "c4Name": "Имя контейнера 3",
                        "c4Technology" : "Java8, Springboot"
                    },
                    "style": {
                        "fillColor": "blue"
                    }
                }
            },
            { "id": 4, "xpath": "//*[@id = 'test.sys1']",
                "params": { "style_self" : false},
                "operation": {
                    "attrs": {
                        "c4Application": "Приложение 1",
                        "c4Name": "Имя ИС 1"
                    },
                    "style": {
                        "fillColor": "grey"
                    }
                }
            },        
            { "id": 5, "xpath": "//*[@id = 'test.sys1.conn1']",
                "params": { "style_self" : false},
                "operation": {
                    "attrs": {
                        "c4Description": "Описание связи между компонентами",
                        "c4Technology": "Технология HTTP",
                        "extra_data": "Дополнительная информация отображаемая в tooltip элемента"
                    },
                    "style": {
                        "strokeColor": "orange"
                    }
                }
            }        
            ]
        }
      )


  dochub.plugins.devtool_new:
    location: DocHub/Руководство/Плагины/Примеры/DevTool
    type: devtool
